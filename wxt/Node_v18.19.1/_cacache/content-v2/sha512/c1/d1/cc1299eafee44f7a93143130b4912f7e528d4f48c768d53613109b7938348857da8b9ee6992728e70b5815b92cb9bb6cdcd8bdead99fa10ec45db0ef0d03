{"_attachments":{},"_id":"zip-dir","_rev":"148661-61f19739ffbd598ed27ea4c9","author":{"name":"Jordan Santell"},"description":"Zips up directories into buffers or saves zipped files to disk","dist-tags":{"latest":"2.0.0"},"license":"MIT","maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"name":"zip-dir","readme":"# zip-dir\n\nZips up a directory and saves the zip to disk or returns as a buffer.\n\n[![Build Status](http://img.shields.io/travis/jsantell/node-zip-dir.svg?style=flat-square)](https://travis-ci.org/jsantell/node-zip-dir)\n[![Build Status](http://img.shields.io/npm/v/zip-dir.svg?style=flat-square)](https://www.npmjs.org/package/zip-dir)\n\n## install\n\n```\n$ npm install zip-dir\n```\n\n## example\n\n```javascript\nvar zipdir = require('zip-dir');\n\n// `buffer` is the buffer of the zipped file\nvar buffer = await zipdir('/path/to/be/zipped');\n\nzipdir('/path/to/be/zipped', function (err, buffer) {\n  // `buffer` is the buffer of the zipped file\n});\n\nzipdir('/path/to/be/zipped', { saveTo: '~/myzip.zip' }, function (err, buffer) {\n  // `buffer` is the buffer of the zipped file\n  // And the buffer was saved to `~/myzip.zip`\n});\n\n// Use a filter option to prevent zipping other zip files!\n// Keep in mind you have to allow a directory to descend into!\nzipdir('/path/to/be/zipped', { filter: (path, stat) => !/\\.zip$/.test(path) }, function (err, buffer) {\n  \n});\n\n// Use an `each` option to call a function everytime a file is added, and receives the path\nzipdir('/path/to/be/zipped', { each: path => console.log(p, \"added!\"), function (err, buffer) {\n\n});\n  \n```\n\n## methods\n\n```\nvar zipdir = require('zip-dir');\n```\n\n### zipdir(dirPath, [options], [callback]) : [Promise]\n\nZips up `dirPath` recursively preserving directory structure and returns\nthe compressed buffer on success. If the `callback` function is supplied, it will be called with `(error, buffer)` once the `zipdir` function is done. If not, the buffer or an error can be obtained from the returned promise. The `callback` and the promise are mutually exclusive. If `options` defined with a `saveTo` path, then the callback and promise will be delayed until the buffer has also\nbeen saved to disk.\n\n#### Options\n\n* `saveTo` A path to save the buffer to.\n* `filter` A function that is called for all items to determine whether or not they should be added to the zip buffer. Function is called with the `fullPath` and a `stats` object ([fs.Stats](http://nodejs.org/api/fs.html#fs_class_fs_stats)). Return true to add the item; false otherwise. To include files within directories, directories must also pass this filter.\n* `each` A function that is called everytime a file or directory is added to the zip.\n\n## TODO\n\n* Add an option to not add empty directories if there are no valid children inside\n\n## license\n\nMIT\n","time":{"created":"2022-01-26T18:47:21.199Z","modified":"2023-07-27T21:23:04.003Z","2.0.0":"2020-11-24T19:57:20.702Z","1.0.2":"2016-02-21T04:12:32.606Z","1.0.1":"2016-01-27T08:46:44.402Z","1.0.0":"2015-01-15T21:32:52.260Z","0.2.1":"2014-08-06T21:37:18.440Z","0.2.0":"2014-07-09T23:19:16.055Z","0.1.4":"2013-12-04T22:47:41.948Z","0.1.3":"2013-12-04T22:05:24.792Z","0.1.2":"2013-12-04T21:09:15.663Z","0.1.1":"2013-12-04T19:37:33.495Z","0.1.0":"2013-12-04T19:27:33.113Z"},"versions":{"2.0.0":{"name":"zip-dir","version":"2.0.0","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"git+ssh://git@github.com/jsantell/node-zip-dir.git"},"author":{"name":"Jordan Santell"},"devDependencies":{"buffer-equal":"*","chai":"*","fs-extra":"^9.0.1","mocha":"*","unzipper":"^0.10.11"},"license":"MIT","dependencies":{"jszip":"^3.2.2","async":"^3.2.0"},"gitHead":"3a3b1cae47efc302909f5e5c499c2ccfeeb0428d","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir#readme","_id":"zip-dir@2.0.0","_nodeVersion":"14.11.0","_npmVersion":"6.14.8","dist":{"shasum":"c5df6e15c8f9efeb4e320377028c9f5c8277c932","size":4658,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-2.0.0.tgz","integrity":"sha512-uhlsJZWz26FLYXOD6WVuq+fIcZ3aBPGo/cFdiLlv3KNwpa52IF3ISV8fLhQLiqVu5No3VhlqlgthN6gehil1Dg=="},"_npmUser":{"name":"jsantell","email":"jordan@jsantell.com"},"directories":{},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/zip-dir_2.0.0_1606247840526_0.35023299639995487"},"_hasShrinkwrap":false,"publish_time":1606247840702,"_cnpm_publish_time":1606247840702,"_cnpmcore_publish_time":"2021-12-16T19:32:20.324Z"},"1.0.2":{"name":"zip-dir","version":"1.0.2","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"git+ssh://git@github.com/jsantell/node-zip-dir.git"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","dependencies":{"jszip":"^2.4.0","async":"^1.5.2"},"gitHead":"09c7e7b658d55e4cfc7ef67c1205315838d5059f","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir#readme","_id":"zip-dir@1.0.2","_shasum":"253f907aead62a21acd8721d8b88032b2411c051","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.0","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"dist":{"shasum":"253f907aead62a21acd8721d8b88032b2411c051","size":4489,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-1.0.2.tgz","integrity":"sha512-OZ4WThDcFqvamrq4e2lSdz+q6a9fnD55ktBzsfQ95R0YrnZDd7Cz1gTI8OMveqlASz8PXVN0av8Bi7Ky+uJ+SA=="},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"_npmOperationalInternal":{"host":"packages-6-west.internal.npmjs.com","tmp":"tmp/zip-dir-1.0.2.tgz_1456027949799_0.9909881500061601"},"directories":{},"publish_time":1456027952606,"_hasShrinkwrap":false,"_cnpm_publish_time":1456027952606,"_cnpmcore_publish_time":"2021-12-16T19:32:20.543Z"},"1.0.1":{"name":"zip-dir","version":"1.0.1","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"git+ssh://git@github.com/jsantell/node-zip-dir.git"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","dependencies":{"jszip":"^2.4.0"},"gitHead":"c35b67d36bcedd57da5f4f61d4064704feaa1d82","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir#readme","_id":"zip-dir@1.0.1","_shasum":"d5c0a2c7a9b05bd633630b01f99fc7eddd218bb5","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.0","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"dist":{"shasum":"d5c0a2c7a9b05bd633630b01f99fc7eddd218bb5","size":4452,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-1.0.1.tgz","integrity":"sha512-iwgiyqpIqTIty7wNgOWROdhOwwMBhBK1z2oHbIxePRvofkUQeTAad+tzzsvarD2m8HyjloDG7MWJKEJpif4XaQ=="},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1453884404402,"_hasShrinkwrap":false,"_cnpm_publish_time":1453884404402,"_cnpmcore_publish_time":"2021-12-16T19:32:20.725Z"},"1.0.0":{"name":"zip-dir","version":"1.0.0","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","dependencies":{"jszip":"^2.4.0"},"bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@1.0.0","dist":{"shasum":"efa7d916fd07a642dc8094869583721675b78768","size":4360,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-1.0.0.tgz","integrity":"sha512-EforSVzqGzSY5jpCa+TUeX3KnEuRj8TDNSZ0IrI+c64vWHIqWDsHvBuqWN1snS3ZKj/bQRr5TeR3UXiTje0FTQ=="},"_from":".","_npmVersion":"1.2.30","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1421357572260,"_hasShrinkwrap":false,"_cnpm_publish_time":1421357572260,"_cnpmcore_publish_time":"2021-12-16T19:32:20.926Z"},"0.2.1":{"name":"zip-dir","version":"0.2.1","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir","_id":"zip-dir@0.2.1","dist":{"shasum":"766762692f81aff65fdfa20d70aef39fef9b92b7","size":43801,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.2.1.tgz","integrity":"sha512-AGT4LTWHcgPaQvs7OoQSYHbJviLAAumlq+q3YpZM9CcIW5SubqOk+xywZqkZdusLryPJ+2xcGtMMMA/hEaeCbQ=="},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1407361038440,"_hasShrinkwrap":false,"_cnpm_publish_time":1407361038440,"_cnpmcore_publish_time":"2021-12-16T19:32:21.589Z"},"0.2.0":{"name":"zip-dir","version":"0.2.0","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir","_id":"zip-dir@0.2.0","dist":{"shasum":"2b03600a99606b0582e70c781fba6ea54cce43ad","size":43305,"noattachment":false,"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.2.0.tgz","integrity":"sha512-8Lc6iwED3KwOEigNhf3RmP7aYyOvbhegG0zQqtCt4F8fym0zOMT9S2O2fqn0CT2QTyZ136A0cQt4jh4DGa0TAQ=="},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1404947956055,"_hasShrinkwrap":false,"_cnpm_publish_time":1404947956055,"_cnpmcore_publish_time":"2021-12-16T19:32:21.829Z"},"0.1.4":{"name":"zip-dir","version":"0.1.4","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","readmeFilename":"README.md","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@0.1.4","dist":{"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.1.4.tgz","shasum":"2aa1d3e5ad43f6ea76ad8f0750a463cffb00ddf7","size":42901,"noattachment":false,"integrity":"sha512-TGBGdVgZmWBXnf6Oh2VPeTrQGnyRQNq2xYFTdLF+N6coVuyNZKWDSWjvJySrpf8Vn+JS9O8aF7OiKQmLYv+ujg=="},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1386197261948,"_hasShrinkwrap":false,"_cnpm_publish_time":1386197261948,"_cnpmcore_publish_time":"2021-12-16T19:32:22.566Z"},"0.1.3":{"name":"zip-dir","version":"0.1.3","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","readmeFilename":"README.md","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@0.1.3","dist":{"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.1.3.tgz","shasum":"94feca5266630ae53855f98f85443e5ad74b7ec8","size":42680,"noattachment":false,"integrity":"sha512-p6uqRO7FR8Z6LslVC4JWAjZWcYtDk67+G47CEbcPnvuQctxH8flCMYrgkXJ8sakgNR4om2QttKqJyH/igmp09w=="},"_from":".","_npmVersion":"1.2.30","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1386194724792,"_hasShrinkwrap":false,"_cnpm_publish_time":1386194724792,"_cnpmcore_publish_time":"2021-12-16T19:32:22.866Z"},"0.1.2":{"name":"zip-dir","version":"0.1.2","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"dependencies":{"jszip":"*"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","readmeFilename":"README.md","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@0.1.2","dist":{"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.1.2.tgz","shasum":"b872d089d2b75d4f5be60e80715207d4ecbfc28d","size":3060,"noattachment":false,"integrity":"sha512-68YUa8t0MkUt+aIEgUQ+aJ4F71pbFg11BcVLYOXLFecvklKvVGmDkp8aWNzHE6+9KkyelSJN/SvEumB8bn/3zw=="},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1386191355663,"_hasShrinkwrap":false,"_cnpm_publish_time":1386191355663,"_cnpmcore_publish_time":"2021-12-16T19:32:23.104Z"},"0.1.1":{"name":"zip-dir","version":"0.1.1","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"dependencies":{"jszip":"*"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","readmeFilename":"README.md","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@0.1.1","dist":{"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.1.1.tgz","shasum":"3850e8ad086e0b5508d8b476d0cefee427b0bec1","size":3063,"noattachment":false,"integrity":"sha512-gM+xjy0+ZlxfVcKchc1BbmDwhWbuK3ZTvdO2haRHuWtQs40f8fbu2sXBS80KJ1udlPXf0iOyHb9SBCKM5aCqqQ=="},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1386185853495,"_hasShrinkwrap":false,"_cnpm_publish_time":1386185853495,"_cnpmcore_publish_time":"2021-12-16T19:32:23.317Z"},"0.1.0":{"name":"zip-dir","version":"0.1.0","description":"Zips up directories into buffers or saves zipped files to disk","main":"index.js","scripts":{"test":"./node_modules/.bin/mocha --reporter spec --ui bdd"},"repository":{"type":"git","url":"http://github.com/jsantell/node-zip-dir"},"author":{"name":"Jordan Santell"},"dependencies":{"jszip":"*"},"devDependencies":{"mocha":"*","chai":"*","buffer-equal":"*","unzip":"*","fs-extra":"*"},"license":"MIT","readmeFilename":"README.md","bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"_id":"zip-dir@0.1.0","dist":{"tarball":"https://registry.npmmirror.com/zip-dir/-/zip-dir-0.1.0.tgz","shasum":"fbda40c43e7fd00ccdd9bc86ebc7a59bb2387a24","size":2998,"noattachment":false,"integrity":"sha512-SgbZVXZvD1Dw28QtZo3ludqtc2JjRqFOiO7kTHbXq+H/U6DE7DIg7YuwejI0FplCzIO2auUyZ1VlbFTQHRAz3Q=="},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"jsantell","email":"jsantell@gmail.com"},"maintainers":[{"name":"jsantell","email":"jordan@jsantell.com"}],"directories":{},"publish_time":1386185253113,"_hasShrinkwrap":false,"_cnpm_publish_time":1386185253113,"_cnpmcore_publish_time":"2021-12-16T19:32:23.536Z"}},"bugs":{"url":"https://github.com/jsantell/node-zip-dir/issues"},"homepage":"https://github.com/jsantell/node-zip-dir#readme","repository":{"type":"git","url":"git+ssh://git@github.com/jsantell/node-zip-dir.git"},"_source_registry_name":"default"}